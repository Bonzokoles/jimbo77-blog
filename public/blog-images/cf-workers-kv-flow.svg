<?xml version="1.0" encoding="UTF-8"?>
<svg viewBox="0 0 1400 1000" xmlns="http://www.w3.org/2000/svg">
  <defs>
    <linearGradient id="bgGradient" x1="0%" y1="0%" x2="100%" y2="100%">
      <stop offset="0%" style="stop-color:#0f172a;stop-opacity:1" />
      <stop offset="100%" style="stop-color:#1e293b;stop-opacity:1" />
    </linearGradient>
    <marker id="arrowGreen" markerWidth="10" markerHeight="10" refX="9" refY="3" orient="auto">
      <polygon points="0 0, 10 3, 0 6" fill="#10b981" />
    </marker>
    <marker id="arrowRed" markerWidth="10" markerHeight="10" refX="9" refY="3" orient="auto">
      <polygon points="0 0, 10 3, 0 6" fill="#ef4444" />
    </marker>
  </defs>
  
  <!-- Background -->
  <rect width="1400" height="1000" fill="url(#bgGradient)"/>
  
  <!-- Title -->
  <text x="700" y="50" font-size="44" font-weight="bold" fill="#38bdf8" text-anchor="middle" font-family="Arial, sans-serif">
    âš¡ Workers KV - Cache Flow
  </text>
  
  <!-- REQUEST SECTION -->
  <text x="100" y="120" font-size="16" font-weight="bold" fill="#cbd5e1" font-family="Arial, sans-serif">1ï¸âƒ£ Å»Ä„DANIE PRZYCHODZI</text>
  
  <rect x="80" y="150" width="280" height="100" fill="#1e293b" stroke="#38bdf8" stroke-width="2" rx="8"/>
  <text x="220" y="180" font-size="24" text-anchor="middle">ğŸ‘¤</text>
  <text x="220" y="210" font-size="13" font-weight="bold" fill="#38bdf8" text-anchor="middle">UÅ¼ytkownik</text>
  <text x="220" y="230" font-size="11" fill="#cbd5e1" text-anchor="middle">GET /api/user/123</text>
  
  <!-- Arrow down -->
  <line x1="220" y1="250" x2="220" y2="300" stroke="#38bdf8" stroke-width="2" marker-end="url(#arrowGreen)"/>
  
  <!-- CHECK KV SECTION -->
  <text x="100" y="340" font-size="16" font-weight="bold" fill="#cbd5e1">2ï¸âƒ£ SPRAWDZENIE CACHE</text>
  
  <rect x="80" y="370" width="280" height="120" fill="#1e293b" stroke="#10b981" stroke-width="2" rx="8"/>
  <text x="220" y="395" font-size="24" text-anchor="middle">ğŸ”‘</text>
  <text x="220" y="425" font-size="13" font-weight="bold" fill="#10b981" text-anchor="middle">Workers KV</text>
  <text x="220" y="450" font-size="11" fill="#cbd5e1" text-anchor="middle">get('user:123')</text>
  <text x="220" y="470" font-size="10" fill="#94a3b8" text-anchor="middle">Latency: &lt;10ms</text>
  
  <!-- TWO PATHS -->
  <!-- PATH 1: HIT -->
  <text x="480" y="340" font-size="16" font-weight="bold" fill="#10b981">âœ… CACHE HIT (70%)</text>
  
  <line x1="360" y1="430" x2="450" y2="430" stroke="#10b981" stroke-width="3" marker-end="url(#arrowGreen)"/>
  <text x="405" y="425" font-size="10" fill="#10b981" font-weight="bold">Found!</text>
  
  <rect x="450" y="370" width="280" height="120" fill="#0a3f51" stroke="#10b981" stroke-width="2" rx="8"/>
  <text x="590" y="395" font-size="24" text-anchor="middle">âš¡</text>
  <text x="590" y="425" font-size="13" font-weight="bold" fill="#10b981" text-anchor="middle">ZwrÃ³Ä‡ Cache</text>
  <text x="590" y="450" font-size="11" fill="#cbd5e1" text-anchor="middle">Response Time: 15ms</text>
  <text x="590" y="470" font-size="10" fill="#94a3b8" text-anchor="middle">User zadowolony! ğŸ˜Š</text>
  
  <!-- Arrow to user -->
  <line x1="590" y1="490" x2="590" y2="650" stroke="#10b981" stroke-width="2" stroke-dasharray="5,5" marker-end="url(#arrowGreen)"/>
  
  <!-- PATH 2: MISS -->
  <text x="1000" y="340" font-size="16" font-weight="bold" fill="#ef4444">âŒ CACHE MISS (30%)</text>
  
  <line x1="360" y1="430" x2="900" y2="430" stroke="#ef4444" stroke-width="3" marker-end="url(#arrowRed)"/>
  <text x="630" y="425" font-size="10" fill="#ef4444" font-weight="bold">Not Found</text>
  
  <rect x="900" y="370" width="280" height="120" fill="#1e293b" stroke="#ef4444" stroke-width="2" rx="8"/>
  <text x="1040" y="395" font-size="24" text-anchor="middle">ğŸŒ</text>
  <text x="1040" y="425" font-size="13" font-weight="bold" fill="#ef4444" text-anchor="middle">Fetch z API</text>
  <text x="1040" y="450" font-size="11" fill="#cbd5e1" text-anchor="middle">POST /api.example.com</text>
  <text x="1040" y="470" font-size="10" fill="#94a3b8" text-anchor="middle">Response Time: 200ms</text>
  
  <!-- Arrow down to SAVE -->
  <line x1="1040" y1="490" x2="1040" y2="550" stroke="#ef4444" stroke-width="2" marker-end="url(#arrowRed)"/>
  
  <!-- SAVE TO KV -->
  <rect x="900" y="550" width="280" height="120" fill="#1e293b" stroke="#f59e0b" stroke-width="2" rx="8"/>
  <text x="1040" y="575" font-size="24" text-anchor="middle">ğŸ’¾</text>
  <text x="1040" y="605" font-size="13" font-weight="bold" fill="#f59e0b" text-anchor="middle">Zapisz w KV</text>
  <text x="1040" y="630" font-size="11" fill="#cbd5e1" text-anchor="middle">put('user:123', data)</text>
  <text x="1040" y="650" font-size="10" fill="#94a3b8" text-anchor="middle">TTL: 3600 sekund</text>
  
  <!-- Arrow to user -->
  <line x1="1040" y1="670" x2="590" y2="710" stroke="#ef4444" stroke-width="2" stroke-dasharray="5,5" marker-end="url(#arrowRed)"/>
  
  <!-- FINAL RESPONSE -->
  <text x="100" y="760" font-size="16" font-weight="bold" fill="#cbd5e1">3ï¸âƒ£ ODPOWIEDÅ¹ DO UÅ»YTKOWNIKA</text>
  
  <rect x="450" y="790" width="500" height="140" fill="#0a3f51" stroke="#38bdf8" stroke-width="2" rx="8"/>
  <text x="700" y="820" font-size="13" font-weight="bold" fill="#38bdf8" text-anchor="middle">HTTP 200 OK</text>
  <text x="700" y="845" font-size="11" fill="#cbd5e1" text-anchor="middle">{</text>
  <text x="700" y="865" font-size="10" fill="#cbd5e1" text-anchor="middle" font-family="monospace">"id": 123, "name": "John", "email": "john@example.com"</text>
  <text x="700" y="885" font-size="11" fill="#cbd5e1" text-anchor="middle">}</text>
  
  <!-- STATS SECTION -->
  <rect x="100" y="790" width="320" height="140" fill="#1e293b" stroke="#10b981" stroke-width="1" rx="8"/>
  <text x="260" y="820" font-size="12" font-weight="bold" fill="#10b981" text-anchor="middle">ğŸ“Š Cache Stats</text>
  <text x="260" y="845" font-size="10" fill="#cbd5e1" text-anchor="middle">Hit Rate: 70%</text>
  <text x="260" y="865" font-size="10" fill="#cbd5e1" text-anchor="middle">Avg Response: 50ms</text>
  <text x="260" y="885" font-size="10" fill="#cbd5e1" text-anchor="middle">Saved Bandwidth: 85%</text>
  
  <rect x="1000" y="790" width="320" height="140" fill="#1e293b" stroke="#ef4444" stroke-width="1" rx="8"/>
  <text x="1160" y="820" font-size="12" font-weight="bold" fill="#ef4444" text-anchor="middle">âš ï¸ Cost Savings</text>
  <text x="1160" y="845" font-size="10" fill="#cbd5e1" text-anchor="middle">API Calls: -70%</text>
  <text x="1160" y="865" font-size="10" fill="#cbd5e1" text-anchor="middle">Bandwidth: -85%</text>
  <text x="1160" y="885" font-size="10" fill="#cbd5e1" text-anchor="middle">Latency: -80%</text>
</svg>